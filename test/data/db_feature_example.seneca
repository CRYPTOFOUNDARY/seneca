#from seneca.storage import orm
# TODO: figure out why this didn't work
#from seneca.storage import tabular as t
import seneca.storage.tabular as t

if __name__ == '__main__':
    u = t.table('users', [
        ('first_name', t.str_len(30)),
        ('last_name', t.str_len(30)),
        ('nick_name', t.str_len(30)),
        ('balance', int)
    ])

    u.insert([{
        'first_name': 'john',
        'last_name': 'doe',
        'nick_name': 'doughboy',
        'balance': 0
    }]).run()

    u1 = u.select().limit(1).run()[0]

    print(u1)

    print(u.delete().run())

    print(u.select().limit(5).run())
